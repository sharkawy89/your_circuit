### Next-circuit API Testing Requests

# NOTE: replace the base URL as needed in your REST client or set an environment variable `API_BASE`.
# Example (VSCode REST Client env):
# @api.base = http://<HOST>:<PORT>   # Define `api.base` (for example: http://<HOST>:<PORT>) or use REST Client environment variables
# Then use {{api.base}} in place of the host below.

## Health Check
GET {{api.base}}/api/health

---

## Authentication

### Register User
POST {{api.base}}/api/auth/register
Content-Type: application/json

{
  "name": "John Doe",
  "email": "john@example.com",
  "password": "password123",
  "confirmPassword": "password123"
}

### Login User
POST {{api.base}}/api/auth/login
Content-Type: application/json

{
  "email": "john@example.com",
  "password": "password123"
}

### Get User Profile
GET {{api.base}}/api/auth/profile
Authorization: Bearer YOUR_JWT_TOKEN

---

## Products

### Get All Products
GET {{api.base}}/api/products

### Get Products with Filters
GET {{api.base}}/api/products?category=smartphones&minPrice=500&maxPrice=1500

### Get Single Product
GET {{api.base}}/api/products/PRODUCT_ID

### Create Product (Admin)
POST {{api.base}}/api/products
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "name": "Product Name",
  "brand": "Brand Name",
  "description": "Product description",
  "price": 999.99,
  "originalPrice": 1099.99,
  "category": "smartphones",
  "image": "image-url.jpg",
  "rating": 4.5,
  "stock": 10,
  "isBestSeller": false,
  "discount": 10
}

### Update Product (Admin)
PUT {{api.base}}/api/products/PRODUCT_ID
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "price": 999.99,
  "stock": 15
}

### Delete Product (Admin)
DELETE {{api.base}}/api/products/PRODUCT_ID
Authorization: Bearer YOUR_JWT_TOKEN

---

## Shopping Cart

### Get Cart
GET {{api.base}}/api/cart
Authorization: Bearer YOUR_JWT_TOKEN

### Add to Cart
POST {{api.base}}/api/cart/add
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "productId": "PRODUCT_ID",
  "quantity": 1
}

### Update Cart Item Quantity
PUT {{api.base}}/api/cart/update
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "productId": "PRODUCT_ID",
  "quantity": 2
}

### Remove from Cart
POST {{api.base}}/api/cart/remove
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "productId": "PRODUCT_ID"
}

### Clear Cart
DELETE {{api.base}}/api/cart/clear
Authorization: Bearer YOUR_JWT_TOKEN

---

## Orders

### Create Order
POST {{api.base}}/api/orders
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "shippingAddress": {
    "street": "123 Main Street",
    "city": "New York",
    "state": "NY",
    "zipCode": "10001",
    "country": "USA"
  },
  "paymentMethod": "credit_card"
}

### Get User Orders
GET {{api.base}}/api/orders
Authorization: Bearer YOUR_JWT_TOKEN

### Get Order Details
GET {{api.base}}/api/orders/ORDER_ID
Authorization: Bearer YOUR_JWT_TOKEN

### Update Order Status (Admin)
PUT {{api.base}}/api/orders/ORDER_ID/status
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "status": "shipped",
  "paymentStatus": "completed"
}

### Cancel Order
DELETE {{api.base}}/api/orders/ORDER_ID/cancel
Authorization: Bearer YOUR_JWT_TOKEN

---

## Users

### Get User Profile
GET {{api.base}}/api/users/profile
Authorization: Bearer YOUR_JWT_TOKEN

### Update User Profile
PUT {{api.base}}/api/users/profile
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "name": "Jane Doe",
  "phone": "+1-555-0123",
  "address": {
    "street": "456 Oak Avenue",
    "city": "Los Angeles",
    "state": "CA",
    "zipCode": "90001",
    "country": "USA"
  }
}

### Get All Users (Admin)
GET {{api.base}}/api/users
Authorization: Bearer YOUR_JWT_TOKEN

---

## Usage Notes

1. Replace `YOUR_JWT_TOKEN` with the actual token received from login/register
2. Replace `PRODUCT_ID`, `ORDER_ID` with actual MongoDB ObjectIds
3. Use this file with REST Client extension in VS Code or Postman
4. For Postman: Create environment variable `token` and `{{token}}` in requests
